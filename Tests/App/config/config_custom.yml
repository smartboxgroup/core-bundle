imports:
    - { resource: config.yml }

services:
    smartcore.cache_service.fake_cache_service_spy:
        class: Smartbox\CoreBundle\Tests\Utils\Cache\FakeCacheServiceSpy

    smartcore.custom_cache_service_id:
        class: Smartbox\CoreBundle\Tests\Utils\Cache\FakeCacheService
        arguments: [ "@smartcore.cache_service.fake_cache_service_spy" ]

    smartcore.serializer.subscriber.cache:
        public: true
        class: '%smartcore.serializer.subscriber.cache%'
        arguments:
            - 'JMS\Serializer\Visitor\Factory\DeserializationVisitorFactory'
        tags:
            - { name: jms_serializer.event_subscriber }

smartbox_core:
    cache_drivers:
        custom:
            service: "@smartcore.custom_cache_service_id"